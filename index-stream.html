<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!-- <title>Socket.IO chat</title> -->
    <link rel="stylesheet" type="text/css" href="styles.css" />
</head>

<body>
    <div class="container">
        <h2>TO IMPLEMENT</h2>
        <ul>
            <li>If CREATE and identified stream doesn't exist,
                then start streaming
            </li>
            <li>Else if CREATE and identified stream <strong>does</strong> already exist,
                then fail
            </li>
            <li>Else if JOIN and identified stream <strong>does</strong> already exist,
                then join stream
            </li>
            <li>Else if JOIN and identified stream <strong>doesn't</strong> exist,
                then fail
            </li>
        </ul>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="signals.js"></script>
    <script>
        const socket = io();
        const hash = window.location.hash.substring(1);
        
        if (!hash) {
            const newId = Math.floor((1 + Math.random()) * 1e16)
                .toString(16).substring(1);
            window.location.hash = newId
            console.debug(`creating new stream ${newId}`)
            createStream(socket, newId)
        } else {
            console.debug(`joining stream ${hash}`)
            joinStream(socket, hash)
        }
    </script>
</body>

</html>